this.smartmed=this.smartmed||{},this.smartmed.Carousel=function(e,t,n,r,o){"use strict";const l={beforeMount(e,{value:n}){const r=o.throttle((e=>{n.onEvent(e)}),500),l=({deltaX:t})=>{Math.abs(t)<=20||(r(Math.sign(t)),e.scrollLeft=10)};t.isMobile()||(e.addEventListener("wheel",l),e.__smartmed_carouselScroll__=l)},beforeUnmount(e){e.__smartmed_carouselScroll__&&e.removeEventListener("wheel",e.__smartmed_carouselScroll__)}};var a=e.defineComponent({name:"Carousel",props:{modelValue:{type:Number,required:!0},itemsCount:{type:Number,required:!0},items:{type:Array,required:!0},draggable:{type:Boolean},autoScrollLooping:{type:Boolean}},directives:{"drag-drop":n.DragDropDirective,intersection:n.IntersectionDirective,"carousel-scroll":l},setup(n,{emit:o}){const l=e.inject(r.EVENT_TUNNEL_TOKEN,null),{itemsCount:a,modelValue:s,items:i,draggable:c,autoScrollLooping:u}=e.toRefs(n),d=e.ref(!0),m=e.ref(0),v=e.ref(null),_=e.ref(null),p=e.computed((()=>{const e=100/a.value+"%";return{minWidth:e,maxWidth:e,flexBasis:e}})),h=e.computed((()=>-s.value/a.value)),g=e.computed((()=>({transform:`translateX(${100*(d.value?h.value:m.value)}%)`}))),f=e.computed((()=>t.isMobile()||c.value));e.onMounted((()=>{const e=v.value;e&&(e.addEventListener("touchstart",E),e.addEventListener("touchend",w),e.addEventListener("mousedown",E),document.addEventListener("mouseup",w))})),e.onUnmounted((()=>{const e=v.value;e&&(e.removeEventListener("touchstart",E),e.removeEventListener("touchend",w),e.removeEventListener("mousedown",E),document.removeEventListener("mouseup",w))})),l&&e.watch(l,(()=>{b()}));const y=e=>{const n=i.value.length>=a.value?a.value:i.value.length;o("update:modelValue",t.clamp(e,0,i.value.length-n))};e.watch(a,(()=>{y(0)}));const b=()=>{const e=s.value===i.value.length-1?0:s.value+1,n=u.value?e:t.clamp(s.value+1,0,i.value.length-1);y(n),u.value||n!==i.value.length-1||o("autoscroll-end")},E=()=>{d.value=!1,m.value=h.value},w=()=>{d.value=!0};return{computedStyle:p,transform:g,transitioned:d,onDragDrop:(e,[n])=>{if(!f.value)return;const{clientWidth:r}=e,o=1-i.value.length/a.value;m.value=t.clamp(n/r+m.value,o,0)},host:v,onIntersect:(e,{intersectionRatio:t})=>{t&&1!==t&&!d.value&&y(e-Math.floor(a.value/2))},intersectionRoot:_,onScroll:e=>{y(s.value+e)},next:()=>{y(s.value+1)},prev:()=>{y(s.value-1)}}}});!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}('._container_uernr_1 {\n  position: relative;\n  display: block;\n  overflow: hidden;\n}\n._container_draggable_uernr_6 {\n  user-select: none;\n}\n._container_draggable_uernr_6:hover {\n  cursor: grab;\n}\n._container_draggable_uernr_6:active {\n  cursor: grabbing;\n}\n._scroller_uernr_16 {\n  display: flex;\n  overflow: auto;\n  overscroll-behavior-x: none;\n  padding-bottom: 2rem;\n  margin-bottom: -2rem;\n}\n._scroller_uernr_16:before, ._scroller_uernr_16:after {\n  content: "";\n  display: block;\n  min-width: 1rem;\n}\n._items_uernr_29 {\n  display: flex;\n  align-items: center;\n}\n._items_transitioned_uernr_33 {\n  transition: transform 0.4s ease;\n}\n._wrapper_uernr_37 {\n  position: sticky;\n  left: 0;\n  right: 0;\n  min-width: 100%;\n  overflow: hidden;\n}\n._item_uernr_29 {\n  padding: 0 8px;\n}');return(a.__cssModules={}).$style={container:"_container_uernr_1",container_draggable:"_container_draggable_uernr_6",scroller:"_scroller_uernr_16",items:"_items_uernr_29",items_transitioned:"_items_transitioned_uernr_33",wrapper:"_wrapper_uernr_37",item:"_item_uernr_29"},a.render=function(t,n,r,o,l,a){const s=e.resolveDirective("intersection"),i=e.resolveDirective("drag-drop"),c=e.resolveDirective("carousel-scroll");return e.openBlock(),e.createElementBlock("div",{ref:"host",ondragstart:"return false;",class:e.normalizeClass([t.$style.container,t.draggable&&t.$style.container_draggable])},[e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(t.$style.scroller)},[e.createElementVNode("div",{class:e.normalizeClass(t.$style.wrapper)},[e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([t.$style.items,t.transitioned&&t.$style.items_transitioned]),style:e.normalizeStyle(t.transform)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.items,((n,r)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:n,style:e.normalizeStyle(t.computedStyle),class:e.normalizeClass(t.$style.item)},[e.renderSlot(t.$slots,"default",{item:n})],6)),[[s,{options:{threshold:[.01,.01],rootMargin:"100px 100000px 100px -51%",root:()=>t.$refs.host},disconnectAfterIntersect:!1,isObserve:!0,onIntersect:t.onIntersect.bind(null,r)}]]))),128))],6)),[[i,{onEvent:t.onDragDrop}]])],2)],2)),[[c,{onEvent:t.onScroll}]])],2)},a}(Vue,smartmed.domain,smartmed.directives,smartmed.tokens,smartmed.infrastructure);
