import{defineComponent as e,toRefs as n,ref as t,computed as i,resolveComponent as a,openBlock as r,createElementBlock as o,normalizeClass as s,withModifiers as _,toDisplayString as l,createCommentVNode as p,createElementVNode as d,renderSlot as c,createVNode as h,createBlock as y}from"vue";import u from"@smartmed/webpatient-vue-components/MaskedInput";import{useInteractive as m,useModelModifiers as v}from"@smartmed/webpatient-vue-components/application";import{hasSlotContent as f}from"@smartmed/webpatient-vue-components/domain";import b from"@smartmed/webpatient-vue-components/SvgIcon";var g=e({name:"BaseInput",components:{MaskedInput:u,SvgIcon:b},props:{modelValue:{type:[String,Number,Object,null],required:!0},modelModifiers:{type:Object,default:()=>({})},type:{type:String,default:"text"},size:{type:String,default:"md",validator:e=>["lg","md","sm"].includes(e)},disabled:Boolean,label:{type:String,default:""},editable:{type:Boolean,default:!0},maskOptions:{type:Object,default:null},isError:[Boolean,String],isSuccess:[Boolean,String],placeholder:String,autocomplete:String,name:String,hasCleaner:Boolean,inputmode:String,min:[String,Number],max:[String,Number],readonly:Boolean,hasBorder:{type:Boolean,default:!0},stringify:{type:Function}},setup(e,{emit:a,slots:r}){const{modelValue:o,modelModifiers:s,editable:_,isSuccess:l,isError:p,hasCleaner:d,size:c}=n(e),h=t(!1),y=m(),u=v(s.value),b=i((()=>!!o.value&&String(o.value).length>0)),g=i((()=>"sm"===c.value?"md":"lg")),w=i((()=>f(r.valueContent))),x=i((()=>{const e=b.value&&w.value,n=!_.value&&e,t=_.value&&!y.focused.value&&e;return n||t})),k=i((()=>f(r.right))),$=i((()=>f(r.left))),S=i((()=>p.value||l.value||b.value&&d.value||k.value));return{showPass:h,focused:y.focused,native:y.native,id:y.id,focus:y.focus,blur:y.blur,isValue:b,showValueTemplate:x,clearSearch:()=>{a("search-clear"),y.focus()},emitValue:e=>{a("update:modelValue",u.modify(e))},hasRightIcons:S,hasRightSlot:k,hasLeftSlot:$,iconSize:g}}});const w=["for"];!function(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}("._input_2ye4h_1 {\n  display: block;\n  cursor: inherit;\n}\n._input_readonly_2ye4h_5 {\n  cursor: default;\n}\n._wrapper_2ye4h_9 {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--smed-base-09);\n  border-radius: 6px;\n  color: var(--smed-base-01);\n}\n._wrapper_hasBorder_2ye4h_17 {\n  border: 1px solid var(--smed-base-05);\n}\n._wrapper_sm_2ye4h_20 {\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 20px;\n  letter-spacing: 0px;\n  height: 32px;\n}\n._wrapper_md_2ye4h_27 {\n  font-size: 17px;\n  font-weight: 400;\n  line-height: 24px;\n  letter-spacing: 0px;\n  height: 44px;\n}\n._wrapper_lg_2ye4h_34 {\n  font-size: 17px;\n  font-weight: 400;\n  line-height: 24px;\n  letter-spacing: 0px;\n  height: 56px;\n}\n._wrapper_2ye4h_9:hover {\n  border-color: var(--smed-base-04);\n}\n._wrapper_2ye4h_9:focus, ._wrapper_2ye4h_9._focus_2ye4h_44 {\n  border-color: var(--smed-primary);\n}\n._wrapper_error_2ye4h_47 {\n  border-color: var(--smed-error);\n}\n._wrapper_error_2ye4h_47:hover, ._wrapper_error_2ye4h_47:focus, ._wrapper_error_2ye4h_47._focus_2ye4h_44 {\n  border-color: var(--smed-error);\n}\n._wrapper_disabled_2ye4h_53 {\n  opacity: 0.6;\n  pointer-events: none;\n}\n._nativeWrapper_2ye4h_58 {\n  position: relative;\n  display: inline-flex;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n}\n._native_2ye4h_58 {\n  padding: 0;\n  border: 0;\n  border-radius: inherit;\n  background: none;\n  font-size: inherit;\n  line-height: inherit;\n  font-weight: inherit;\n  color: inherit;\n  caret-color: currentColor;\n  outline: none;\n  appearance: none;\n  word-break: keep-all;\n  -webkit-text-fill-color: currentColor;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  cursor: inherit;\n}\n._native_2ye4h_58:-webkit-autofill, ._native_2ye4h_58:-webkit-autofill:hover, ._native_2ye4h_58:-webkit-autofill:focus {\n  border-radius: inherit;\n  -webkit-text-fill-color: inherit !important;\n  color: inherit !important;\n  background-color: transparent !important;\n  -webkit-box-shadow: 0 0 0 1000px var(--smed-base-09) 5c0 inset !important;\n}\n._native_template_2ye4h_97 {\n  user-select: none;\n  pointer-events: none;\n}\n._native_hidden_2ye4h_101 {\n  opacity: 0;\n}\n._wrapper_sm_2ye4h_20 ._native_2ye4h_58 {\n  padding: 6px 8px;\n}\n._wrapper_md_2ye4h_27 ._native_2ye4h_58 {\n  padding: 10px 12px;\n}\n._wrapper_lg_2ye4h_34 ._native_2ye4h_58 {\n  padding: 16px;\n}\n._input_readonly_2ye4h_5 ._native_2ye4h_58 {\n  cursor: default;\n}\n._native_notEditable_2ye4h_116 {\n  text-overflow: ellipsis;\n}\n._native_disabled_2ye4h_119 {\n  cursor: default;\n}\n._label_2ye4h_123 {\n  display: inline-block;\n  color: var(--smed-base-03);\n  margin-bottom: 4px;\n}\n._iconsLeft_2ye4h_129 {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n._wrapper_sm_2ye4h_20 ._iconsLeft_2ye4h_129 {\n  padding: 6px 0 6px 8px;\n}\n._wrapper_md_2ye4h_27 ._iconsLeft_2ye4h_129 {\n  padding: 10px 0 10px 12px;\n}\n._wrapper_lg_2ye4h_34 ._iconsLeft_2ye4h_129 {\n  padding: 16px 0 16px 16px;\n}\n._icon_2ye4h_129 {\n  color: var(--smed-base-05);\n}\n._icon_left_2ye4h_147 {\n  flex-shrink: 0;\n}\n._icon_right_2ye4h_150 {\n  display: flex;\n}\n._icon_right_2ye4h_150:not(:last-child) {\n  margin-right: 8px;\n}\n._icon_error_2ye4h_156 {\n  color: var(--smed-error);\n}\n._icon_success_2ye4h_159 {\n  color: var(--smed-success);\n}\n._iconsRight_2ye4h_163 {\n  display: flex;\n  align-items: center;\n  height: 100%;\n  flex-shrink: 0;\n}\n._wrapper_sm_2ye4h_20 ._iconsRight_2ye4h_163 {\n  padding: 6px 8px 6px 0;\n}\n._wrapper_md_2ye4h_27 ._iconsRight_2ye4h_163 {\n  padding: 10px 12px 10px 0;\n}\n._wrapper_lg_2ye4h_34 ._iconsRight_2ye4h_163 {\n  padding: 16px;\n  padding-left: 0;\n}\n._error_2ye4h_180 {\n  border-color: var(--smed-error) !important;\n}\n._closeIcon_2ye4h_184 {\n  cursor: pointer;\n  flex-shrink: 0;\n  color: var(--smed-base-05);\n}\n._closeIcon_2ye4h_184:hover {\n  color: var(--smed-base-04);\n}\n._closeIcon_2ye4h_184:active {\n  color: var(--smed-base-03);\n}");(g.__cssModules={}).$style={input:"_input_2ye4h_1",input_readonly:"_input_readonly_2ye4h_5",wrapper:"_wrapper_2ye4h_9",wrapper_hasBorder:"_wrapper_hasBorder_2ye4h_17",wrapper_sm:"_wrapper_sm_2ye4h_20",wrapper_md:"_wrapper_md_2ye4h_27",wrapper_lg:"_wrapper_lg_2ye4h_34",focus:"_focus_2ye4h_44",wrapper_error:"_wrapper_error_2ye4h_47",wrapper_disabled:"_wrapper_disabled_2ye4h_53",nativeWrapper:"_nativeWrapper_2ye4h_58",native:"_native_2ye4h_58",native_template:"_native_template_2ye4h_97",native_hidden:"_native_hidden_2ye4h_101",native_notEditable:"_native_notEditable_2ye4h_116",native_disabled:"_native_disabled_2ye4h_119",label:"_label_2ye4h_123",iconsLeft:"_iconsLeft_2ye4h_129",icon:"_icon_2ye4h_129",icon_left:"_icon_left_2ye4h_147",icon_right:"_icon_right_2ye4h_150",icon_error:"_icon_error_2ye4h_156",icon_success:"_icon_success_2ye4h_159",iconsRight:"_iconsRight_2ye4h_163",error:"_error_2ye4h_180",closeIcon:"_closeIcon_2ye4h_184"},g.render=function(e,n,t,i,u,m){const v=a("masked-input"),f=a("svg-icon");return r(),o("label",{class:s([e.$style.input,e.readonly&&e.$style.input_readonly]),for:e.id},[e.label?(r(),o("span",{key:0,"data-automation-id":"smed-base-input-label",class:s([e.$style.label,"smed-text_body-sm"]),onClick:n[0]||(n[0]=_((()=>{}),["stop"]))},l(e.label),3)):p("",!0),d("div",{class:s([e.$style.wrapper,e.$style["wrapper_"+e.size],e.hasBorder&&e.$style.wrapper_hasBorder,e.isError&&e.$style.wrapper_error,e.disabled&&e.$style.wrapper_disabled,e.focused&&e.$style.focus])},[e.hasLeftSlot?(r(),o("div",{key:0,"data-automation-id":"smed-base-input-left-icon",class:s([e.$style.icon,e.$style.iconsLeft,e.$style.icon_left])},[c(e.$slots,"left",{size:e.iconSize})],2)):p("",!0),d("div",{class:s(e.$style.nativeWrapper)},[h(v,{"data-automation-id":"smed-base-input-native",ref:"native",class:s([e.$style.native,!e.editable&&e.$style.native_notEditable,e.showValueTemplate&&e.$style.native_hidden,e.disabled&&e.$style.native_disabled]),modelValue:e.modelValue,type:e.type,autocomplete:e.autocomplete,name:e.name,placeholder:e.placeholder,disabled:e.disabled,id:e.id,maskOptions:e.maskOptions,inputmode:e.inputmode,min:e.min,max:e.max,readOnly:e.readonly||!e.editable,stringify:e.stringify,"onUpdate:modelValue":e.emitValue},null,8,["class","modelValue","type","autocomplete","name","placeholder","disabled","id","maskOptions","inputmode","min","max","readOnly","stringify","onUpdate:modelValue"]),e.showValueTemplate?(r(),o("div",{key:0,"data-automation-id":"smed-base-input-value-content",class:s([e.$style.native,!e.editable&&e.$style.native_notEditable,e.$style.native_template])},[c(e.$slots,"valueContent")],2)):p("",!0)],2),e.hasRightIcons?(r(),o("div",{key:1,class:s(e.$style.iconsRight)},[e.isError?(r(),y(f,{key:0,"data-automation-id":"smed-base-input-error-icon",name:"close-filled",class:s([e.$style.icon,e.$style.icon_right,e.$style.icon_error]),size:e.iconSize},null,8,["class","size"])):p("",!0),e.isSuccess?(r(),y(f,{key:1,"data-automation-id":"smed-base-input-success-icon",name:"check-filled",class:s([e.$style.icon,e.$style.icon_success,e.$style.icon_right]),size:e.iconSize},null,8,["class","size"])):p("",!0),e.hasCleaner&&e.isValue?(r(),y(f,{key:2,"data-automation-id":"smed-base-input-cleaner-icon",name:"close",class:s([e.$style.closeIcon,e.$style.icon,e.$style.icon_right]),size:e.iconSize,onClick:_(e.clearSearch,["stop","prevent"])},null,8,["class","size","onClick"])):p("",!0),e.hasRightSlot?(r(),o("div",{key:3,"data-automation-id":"smed-base-input-right-icon",class:s(e.$style.icon_right)},[c(e.$slots,"right")],2)):p("",!0)],2)):p("",!0)],2)],10,w)};export{g as default};
