this.smartmed=this.smartmed||{},this.smartmed.infrastructure=function(e,t,r,a,s){"use strict";function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=u(t),n=u(s);function i(e,t,a){const s=t.value,u=r.ref(!1),l=r.ref({}),n=r.computed((()=>{const t=a.value[e].$errors;return u.value||0===t.length?{}:t.reduce(((e,t)=>({...e,[t.$validator]:"string"==typeof t.$message?t.$message:t.$message.value})),{...l.value})})),i=r.computed((()=>{const e=Object.keys(l.value);return 0===e.length?null:{[e[0]]:l.value[e[0]]}})),o=r.computed((()=>{const t=i.value,r=a.value[e].$errors[0];return u.value||!r&&!t?null:r?{[r.$validator]:"string"==typeof r.$message?r.$message:r.$message.value}:t})),c=r.computed((()=>!u.value&&!!o.value)),d=r.computed((()=>!c.value)),v=e=>{t.value=e};return{error:o,errors:n,value:t,setValue:v,invalid:c,valid:d,reset:()=>{v(s),a.value[e].$reset()},disabled:u,disable:()=>{u.value=!0},enable:()=>{u.value=!1},markAsTouch:()=>{u.value||a.value[e].$touch()},setErrors:e=>{l.value=e},removeErrors:e=>{l.value=Object.keys(l.value).reduce(((t,r)=>e.includes(r)?t:{...t,[r]:l.value[r]}),{})}}}const o=a.helpers.withMessage("Заполните поле",a.required),c=a.helpers.withMessage("Заполните поле",(e=>!0===e)),d=a.helpers.withMessage("Введите корректный адрес электронной почты",a.email),v=a.helpers.withMessage("Некорректный номер мобильного телефона",(e=>/^[+]*7\d{10}$/.test(e.replace(/[+ \-_]/g,""))));return e.createForm=function(e){const t=Object.keys(e).reduce(((t,r)=>{const[a,s]=e[r];return{...t,[r]:s||{}}}),{}),a=Object.keys(e).reduce(((t,a)=>{const[s]=e[a];return{...t,[a]:r.ref(s)}}),{}),s=l.default(t,a),u=Object.keys(a).reduce(((e,t)=>({...e,[t]:i(t,a[t],s)})),{}),n=r.computed((()=>Object.keys(u).some((e=>u[e].invalid.value)))),o=r.computed((()=>!n.value)),c=r.computed((()=>n.value?Object.keys(u).filter((e=>u[e].invalid.value)).reduce(((e,t)=>({...e,[t]:u[t].errors.value})),{}):{})),d=()=>{Object.keys(u).forEach((e=>u[e].markAsTouch()))};return{invalid:n,valid:o,markAsTouch:d,errors:c,validate:()=>{d()},value:a,getCurrentValue:()=>Object.keys(a).reduce(((e,t)=>({...e,[t]:a[t].value})),{}),...u}},e.email=d,e.maxLength=e=>a.helpers.withMessage(`Длина должна быть не больше ${e}`,a.maxLength(e)),e.maxValue=e=>a.helpers.withMessage(`Значение должно быть не больше ${e}`,a.maxValue(e)),e.minLength=e=>a.helpers.withMessage(`Длина должна быть не меньше ${e}`,a.minLength(e)),e.minValue=e=>a.helpers.withMessage(`Значение должно быть не меньше ${e}`,a.minValue(e)),e.not=e=>a.helpers.withMessage("Заполните поле",(t=>t!==e)),e.pattern=e=>a.helpers.withMessage("Невалидное поле",(t=>("string"==typeof e?new RegExp(e):e).test(t))),e.phone=v,e.required=o,e.requiredTrue=c,e.throttle=function(e,t){return n.default(e,t,{leading:!0,trailing:!1})},Object.defineProperty(e,"__esModule",{value:!0}),e}({},useVuelidate,Vue,validators,lodashthrottle);
