import{CONTROL_ACCESSOR_TOKEN as e,MODEL_MODIFIERS_TOKEN as t}from"@smartmed/webpatient-vue-components/tokens";import{ref as n,inject as r,computed as o,onMounted as u,onBeforeUnmount as s}from"vue";let a=0;function i(){const t=n(null),i=n(!1),l=r(e,null),v=()=>{i.value=!0},c=()=>{i.value=!1,l&&l.markAsTouch()},f=o((()=>t.value?t.value instanceof HTMLElement?t.value:t.value.$refs.native:null));u((()=>{const e=f.value;e&&"function"==typeof e.addEventListener&&(e.addEventListener("focus",v),e.addEventListener("blur",c))})),s((()=>{const e=f.value;e&&"function"==typeof e.removeEventListener&&(e.removeEventListener("focus",v),e.removeEventListener("blur",c))}));return{native:t,focused:i,id:`sm-interactive_${a++}_${Date.now()}`,focus:()=>{f.value&&f.value.focus()},blur:()=>{f.value&&f.value.blur()}}}const l={trim:e=>"string"==typeof e?e.trim():e,capitalize:e=>"string"==typeof e?e.charAt(0).toUpperCase()+e.slice(1):e,uppercase:e=>"string"==typeof e?e.toUpperCase():e,lowercase:e=>"string"==typeof e?e.toLowerCase():e};function v(e){const n=r(t,l),o=e=>e,u=Object.keys(e).filter((t=>e[t])).map((e=>n[e]||l[e]||o));return{modify:e=>{let t=e;return u.forEach((e=>{t=e(t)})),t}}}export{i as useInteractive,v as useModelModifiers};
